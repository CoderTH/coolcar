{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\nconst fs = require('fs');\nconst pify = require('pify');\n\nconst isExe = (mode, gid, uid) => {\n\tif (process.platform === 'win32') {\n\t\treturn true;\n\t}\n\n\tconst isGroup = gid ? process.getgid && gid === process.getgid() : true;\n\tconst isUser = uid ? process.getuid && uid === process.getuid() : true;\n\n\treturn Boolean((mode & 0o0001) ||\n\t\t((mode & 0o0010) && isGroup) ||\n\t\t((mode & 0o0100) && isUser));\n};\n\nmodule.exports = name => {\n\tif (typeof name !== 'string') {\n\t\treturn Promise.reject(new TypeError('Expected a string'));\n\t}\n\n\treturn pify(fs.stat)(name).then(stats => stats && stats.isFile() && isExe(stats.mode, stats.gid, stats.uid));\n};\n\nmodule.exports.sync = name => {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\tconst stats = fs.statSync(name);\n\n\treturn stats && stats.isFile() && isExe(stats.mode, stats.gid, stats.uid);\n};\n\nmodule.exports.checkMode = isExe;\n"]}